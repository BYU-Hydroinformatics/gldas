{% extends "tethys_apps/app_base.html" %}

{% load tethys_gizmos staticfiles %}
{% load tethys_gizmos %}
{% load staticfiles %}

{% block title %}{{ tethys_app.name }}{% endblock %}
{% block app_icon %}<img src="{% static tethys_app.icon %}">{% endblock %}
{% block app_title %}{{ tethys_app.name }}{% endblock %}
{% block app_content %}{% endblock %}
{% block app_actions %}{% endblock %}


{% block header_buttons %}
    <div class="header-button glyphicon-button" data-toggle="tooltip" data-placement="bottom" title="Resources">
        <font color="white"><b>Additional Resources:</b></font>
    </div>
    <div class="header-button glyphicon-button" data-toggle="tooltip" data-placement="bottom" title="Download GLDAS Data">
        <a href="{{ gldaslink }}" target="_blank"><span class="glyphicon glyphicon-download-alt"></span></a>
    </div>
    <div class="header-button glyphicon-button" data-toggle="tooltip" data-placement="bottom" title="View Tutorial on YouTube">
        <a href="{{ youtubelink }}" target="_blank"><span class="glyphicon glyphicon-play-circle"></span></a>
    </div>
    <div class="header-button glyphicon-button" data-toggle="tooltip" data-placement="bottom" title="View Source Code and Documentation">
        <a href="https://github.com/rileyhales/gldas" target="_blank"><span class="glyphicon glyphicon-hdd"></span></a>
    </div>
    <div class="header-button glyphicon-button" data-toggle="tooltip" data-placement="bottom" title="Report a Problem">
        <a href="https://github.com/rileyhales/gldas/issues" target="_blank"><span class="glyphicon glyphicon-wrench"></span></a>
    </div>
{% endblock %}

{% block app_navigation_items %}
    <li class="title">App Navigation</li>
    {% gizmo select_input variables %}
    {% gizmo select_input colors %}
    {% gizmo select_input dates %}
    {% gizmo range_slider opacity %}
    <p>Data for this app came from the <a href="{{ gldaslink }}" target="_blank">NASA GES Disc</a> and is monthly average, 1/4 degree resolution, netCDF4 format.</p>
    <p>Data is shown in 1-year intervals. Performance and loading times will vary based on time and variable choice.</p>
    <p><b>Credits:</b> Developed by <a href="https://rileyhales.com">Riley Hales</a> at the <a target="_blank" href="https://worldwater.byu.edu">BYU Hydroinformatics Lab</a>. Software and data from Tethys Platform, Leaflet, Highcharts, Thredds, NASA GLDAS, ESRI</p>
    <p><b>Last Updated:</b> {{ updated }}</p>
{% endblock %}

{% block content_dependent_styles %}
{{ block.super }}
<!-- styling for leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" />
<!-- styling for timeseries controls -->
<link rel="stylesheet" href="https://cdn.rawgit.com/socib/Leaflet.TimeDimension/master/dist/leaflet.timedimension.control.min.css" />
<!-- styling for the leaflet draw plugin -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.2/leaflet.draw-src.css" />
<!-- styling generated for the app -->
<link href="{% static 'gldas/css/main.css' %}" rel="stylesheet"/>
{% endblock %}


{% block scripts %}
{{ block.super }}
<!-- Allows csrf verification with AJAX -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>

<!-- script for leaflet -->
<script type="text/javascript" src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>
<!-- Leadlet with Esri -->
<script src="https://unpkg.com/esri-leaflet@2.2.3/dist/esri-leaflet.js" integrity="sha512-YZ6b5bXRVwipfqul5krehD9qlbJzc6KOGXYsDjU9HHXW2gK57xmWl2gU6nAegiErAqFXhygKIsWPKbjLPXVb2g==" crossorigin=""></script>
<!-- script for timeseries controls in leaflet -->
<script type="text/javascript" src="https://cdn.rawgit.com/socib/Leaflet.TimeDimension/master/dist/leaflet.timedimension.min.js"></script>
<script type="text/javascript" src="https://cdn.rawgit.com/nezasa/iso8601-js-period/master/iso8601.min.js"></script>
<!-- allows you to use the leaflet draw plugin -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.2/leaflet.draw-src.js"></script>

<!-- script for using highcharts (display timeseries plot) -->
<script type="text/javascript" src="https://code.highcharts.com/highcharts.js"></script>
<!-- Use this to export data from highcharts as csv, jpeg, etc -->
<script type="text/javascript" src="https://code.highcharts.com/modules/exporting.js"></script>
<!-- Use this to show loading functions and placeholders -->
<script src="https://code.highcharts.com/modules/no-data-to-display.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-128273217-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-128273217-2');
</script>

<!-- scripts I wrote for the app, main should go last -->
<script src="{% static 'gldas/js/data.js' %}" type="text/javascript"></script>
<script src="{% static 'gldas/js/highcharts.js' %}" type="text/javascript"></script>
<script src="{% static 'gldas/js/main.js' %}" type="text/javascript"></script>
{% endblock %}